<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="demo">

	<select id="noticeselect" resultType="map" parameterType="map">
		select * from demo_notice where d1 = 1
	</select>
	
	<select id="info" resultType="users" parameterType="int">
		select idx, id, pwd, name, reg_date, end_date, hspt_name, hspt_subcode, hspt_subname, hspt_position, hspt_V, 
		hspt_K, hspt_B, hspt_X, hspt_Z, hspt_S, hspt_T, hspt_J, user_code
		from demo_users where idx=#{idx}
	</select>
	
	<select id="info2" resultType="users" parameterType="users">
		select idx, id, pwd, name, reg_date, end_date, hspt_name, hspt_subcode, hspt_subname, hspt_position, hspt_V, 
		hspt_K, hspt_B, hspt_X, hspt_Z, hspt_S, hspt_T, hspt_J, user_code
		from demo_users where id=#{id}
	</select>
	
	<select id="dbcheck" parameterType="users" resultType="int">
		select count(*) from demo_users where id = #{id}
	</select>
	
	<select id="login" parameterType="users" resultType="int">
		select count(*) from
		demo_users
		where id = #{id} and 
		<choose>
			<when test="name == null">
			pwd = #{pwd}
			</when>
			<when test="pwd == null">
			name = #{name}
			</when>
		</choose>
	</select>
		
	<!-- 로그인 기록 저장 -->
	<insert id="loginlog" parameterType="loginlog">
		insert into demo_loginlog (id, d1, ip) values (#{id}, #{name}, #{ip})
	</insert>
	
	<select id="evaluationtarget" resultType="users">
	SELECT idx, id, pwd, name, reg_date, hspt_name, hspt_subcode, hspt_subname, hspt_position, hspt_V, 
	hspt_K, hspt_B, hspt_X, hspt_Z, hspt_S, hspt_T, hspt_J, user_code
    FROM demo_users u
    where
    <choose>
   	<!-- 진료부 -->
   	<!-- 진료팀장 -->
	<when test='hspt_subcode.equals("A00") and z == true'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'A00%') 
	or
	(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
	</when>
   	<!-- 진료팀장 -->
	<when test='hspt_subcode.equals("A01") and z == true'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'A01%')
	or
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%VT%')
	</when>
	
	<when test='hspt_subcode.equals("A00") and z == false'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%VT%')
	</when>
	
	<when test='hspt_subcode.equals("A01") and z == false'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%VT%')
	</when>
	
	<!-- 원무부 -->
	<when test='hspt_subcode.equals("B00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'B00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<!-- 3병원의 경우 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') 
		    OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') 
			OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%ST%')
			
			</when>						
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			and u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.hspt_name = #{hspt_name} and u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.hspt_name = #{hspt_name} and u.user_code like '%BT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
		<!-- 총무부 -->
	<when test='hspt_subcode.equals("C00")'>
		(u.hspt_name = #{hspt_name} and u.user_code LIKE 'C00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
			<!-- 변수 ) 1병원은 총무부와 관리과가 함께 부서장이 전체 부서원을 평가 -->
			(u.hspt_name = #{hspt_name} and u.user_code like 'C01%') 
			or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 1병원 관리과(총무과장 평가) -->
	<when test='hspt_subcode.equals("C01")'>
		(u.hspt_name = #{hspt_name} and u.user_code LIKE 'C00%'
		<choose>
			<when test='b == false'>
				AND u.user_code like '%BT%')
			    OR
			    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>		
		</choose>
		
		
		
		
	</when>
	<!-- 관리과 -->
	<when test='hspt_subcode.equals("D00")'>
	(u.hspt_name = #{hspt_name} and u.user_code LIKE 'D00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- QPS -->
	<when test='hspt_subcode.equals("E00")'>
	(u.hspt_name = #{hspt_name} and u.user_code LIKE 'E00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	
	<!-- 임상병리 -->
	<when test='hspt_subcode.equals("F00")'>
	(u.hspt_name = #{hspt_name} and u.user_code LIKE 'F00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			and u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			OR
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->			
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			</when>
			<!--  -->
			<when test='b == false and x == true'>
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 방사선 -->
	<when test='hspt_subcode.equals("G00")'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'G00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->			
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 약국 -->
	<when test='hspt_subcode.equals("H00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'H00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			and u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 사회사업실 -->
	<when test='hspt_subcode.equals("I00")'>
	
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'I00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<!-- 2병원의 경우  -->
			<!-- 피부관리실/김선미   ->  1인부서이기 때문에 이미 들어가있음. -->
			<!-- 약국장(ST(변수)) -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') 
			OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') 
		    OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') 
			OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%ST%')
			
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR		    
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 영양과 -->
	<when test='hspt_subcode.equals("J00")'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'J00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') 
			or
			(u.hspt_name = #{hspt_name} and u.user_code like 'J01%') 
			or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 영양과 별관 -->
	<when test='hspt_subcode.equals("J01")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'J01%'
		<choose>
			<when test='b == false'>
				AND u.user_code like '%BT%')
				OR
				(u.hspt_name = #{hspt_name} and u.user_code like 'J00%' AND u.user_code like '%BT%')
			    OR
			    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 물리치료실 -->
	<when test='hspt_subcode.equals("K00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'K00%'
		<choose>
			
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 작업치료실 -->
	
	<when test='hspt_subcode.equals("L00")'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'L00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 간호부 -->
	<when test='hspt_subcode.equals("M00")'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'M00%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<!-- 2병원의 경우 간호과장이 인공신장실(부서장 대행 TT) 평가 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') 
			or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			or
			(u.hspt_name = #{hspt_name} and u.user_code like '%Q06%')
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 간호부(외래) 2병원 -->
	<when test='hspt_subcode.equals("M01")'>
	(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'M01%'
	<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<!-- 2병원의 경우 간호과장이 인공신장실(부서장 대행 TT) 평가 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') 
			or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%TT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} and u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 가정간호 -->
	<when test='hspt_subcode.equals("N00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'N00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%') OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A01%') 
		    OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 인공신장 -->
	<when test='hspt_subcode.equals("O00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'O00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 감염관리 -->
	<when test='hspt_subcode.equals("P00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'P00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 각 병동 (Q뒤에 숫자) -->
	<when test='hspt_subcode.equals("Q01")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q01%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<when test='hspt_subcode.equals("Q02")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q02%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q03")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q03%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q04")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q04%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q05")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q05%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q06")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q06%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q07")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q07%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q08")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q08%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q09")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q09%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q10")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q10%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q11")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q11%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<when test='hspt_subcode.equals("Q12")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q12%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- Q35 -->
	<when test='hspt_subcode.equals("Q35")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Q35%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 경영전략연구소 -->
	<when test='hspt_subcode.equals("R00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'R00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%' OR)
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 고객지원 -->
	<when test='hspt_subcode.equals("S00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'S00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%')or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			and u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 의료정보실 -->
	<when test='hspt_subcode.equals("T00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'T00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 장례문화원 -->
	<when test='hspt_subcode.equals("U00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'U00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 재활치료실 -->
	<when test='hspt_subcode.equals("V00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'V00%'
		<choose>
			<!-- 경혁팀장 / 부서장 -->
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 홍보기획실 -->
	<when test='hspt_subcode.equals("W00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'W00%'
		<choose>
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 피부관리실 -->
	<when test='hspt_subcode.equals("X00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'X00%'
		<choose>
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	<!-- 면역처치실 -->
	<when test='hspt_subcode.equals("Y00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Y00%'
		<choose>
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 암통합센터 -->
	<when test='hspt_subcode.equals("Z00")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'Z00%'
		<choose>
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 진료협력센터 -->
	<when test='hspt_subcode.equals("AA0")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'AA0%'
		<choose>
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	<!-- 대외협력실 -->
	<when test='hspt_subcode.equals("AB0")'>
		(u.hspt_name = #{hspt_name} AND u.user_code LIKE 'AB0%'
		<choose>
			<when test='b == true and k == true'>
			and u.user_code LIKE '%BF%') OR 
		    (u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') and u.user_code LIKE '%BF%') OR 
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%XT%') OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			
			</when>
			<!-- 경혁팀 / 부서장 -->
			<when test='b == true and k == false and v == true' >
			and u.user_code LIKE '%BF%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%') or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			</when>
			<!-- 부서장 -->
			<when test='b == true'>
			AND u.hspt_name = #{hspt_name} AND u.user_code LIKE '%BF%')
			</when>
			
			<!-- 부서원 -->
			<!-- 경혁팀 / 1인부서 -->
			<when test='b == false and v == true and x == true'>
			AND
			u.user_code LIKE 'A00%') OR		<!-- 의미없는 코드 (1인부서라서 해당 부서 X) -->
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE '%VT%')
			</when>
			<!-- 경혁팀 / 부서원 -->
			<when test='b == false and v == true'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like 'A00%')
			OR
			(u.hspt_name = #{hspt_name} and u.user_code LIKE 'A01%') 
		    or
		    (u.hspt_name = #{hspt_name} and u.user_code like '%VT%')
			</when>
			<!-- 1인부서 -->
			<when test='b == false and x == true'>
			<!-- 경혁팀장만 평가 -->
			)
			or
			(u.hspt_name = #{hspt_name} AND u.user_code LIKE '%KT%')
			
			</when>
			<!-- 부서원 -->
			
			<when test='b == false'>
			AND u.user_code like '%BT%')
		    OR
		    (u.hspt_name = #{hspt_name} and u.user_code like concat (#{hspt_subcode}, '%') AND u.user_code like '%BF%') 
			</when>
		</choose>
	</when>
	
	
	<otherwise></otherwise>
	</choose>
	
	</select>
	
	<!-- 리스트에서 평가 완료 확인 -->
	<select id="whetherselect" resultType="map" parameterType="map">
		select * from demo_whether where d1 = #{idx} and del_yn = 'N'
		
	</select>
	
	<select id="phOne" resultType="int" parameterType="map">
		select count(*) from demo_user__phone where id = #{id} and number = #{ph}
	</select>
	
	<update id="pwdinsert" parameterType="users">
		update demo_users set pwd = #{pwd} where idx = #{idx}
	</update>
	
	<update id="pwdajax" parameterType="map">
		update demo_users set pwd = #{pwd} where id = #{id}
	</update>
	
	<select id="evList" resultType="evaluation" parameterType="evaluation">
		select * from evaluation where d2 = #{d2}
	</select>
	
	<insert id="forminsert" parameterType="canswer">
		insert into demo_answer (u1, u2, t1, team, d1, ev)
		values (
		#{u1}, #{u2}, #{t1}, #{team}, #{d1}, #{ev})
	</insert>
	
	<!-- 평가 점수 -->
	<insert id="scoreInsert" parameterType="score">
		insert into demo_score (col1, col2, col3)
		values (
		#{col1}, #{col2}, #{score}
		)
	</insert>
	<select id="scoreSelect" resultType="score" parameterType="score">
		select * from demo_score where col1 = #{id} and del_yn = 'N'
	</select>
	
	<!--  평가 완료 표시  -->
	<insert id="whether" parameterType="cwhether">
		insert into demo_whether (d1, d2, d3, ev, team)
		values (#{d1}, #{d2}, "평가완료", #{ev}, #{team})
	</insert>
	<select id="users" resultType="map" parameterType="map">
		select idx, hspt_name, hspt_subcode, hspt_subname, id, pwd, hspt_position, name,
		hspt_V, hspt_K, hspt_B, hspt_X, hspt_Z, hspt_S, hspt_T, hspt_J, user_code
		from demo_users 
	</select>
	
	<select id="ph" resultType="map" parameterType="map">
		select * from demo_user__phone
	</select>
	
	<!-- 비밀번호 설정한 직원 명부 -->
	<select id="hsptselect1" parameterType="map" resultType="int">
		select count(*) from demo_users
	</select>
	
	<select id="hsptpwdselect1" parameterType="map" resultType="int">
		select count(*) from demo_users where pwd is NOT NULL;
	</select>
	
	<!-- 비밀번호 초기화 -->
	<update id="pwdreset" parameterType="map">
		update demo_users set pwd = null where id = #{id}
	</update>
	
	<select id="target" parameterType="map" resultType="map">
		select * from demo_target
	</select>
	
	<select id="answerselect" parameterType="map" resultType="map">
		select idx, u1, u2, t1, team, d1, DATE_FORMAT(regdate, '%Y-%m-%d %H:%i:%s') from demo_answer
	</select>
	
	<select id="targetsum" parameterType="map" resultType="int">
		select sum(target) from demo_target where target
	</select>
	<select id="answersum" parameterType="map" resultType="int">
		select count(*) from demo_answer
	</select>
	
	<select id="targetsum1" parameterType="map" resultType="int">
		select sum(target) from demo_target where id like '1%' and id != '12365478'
	</select>
	<select id="answersum1" parameterType="map" resultType="int">
		select count(*) from demo_answer where u2 like '1%'
	</select>
	
	<!-- 평가 완료 중복 체크 -->
	<select id="formcheck" resultType="int" parameterType="map">
		select count(*) from demo_whether where d1 = #{d1} and d2 = #{d2} and team = #{team} and team = #{team} and del_yn = 'N'
	</select>
	<!-- 평가 진행한 답안 불러오기 -->
	<select id="answerSelect" resultType="canswer" parameterType="map">
	select * from demo_answer where u2 = #{u2} and t1 = #{t1} order by idx desc limit 1;
	</select>
	
	<!-- 평가 수정하기 -->
	<update id="whetherUpdate" parameterType="cwhether">
		update demo_whether set del_yn = 'Y', d3 = '수정완료' where d1 = #{d1} and d2 = #{d2} and ev = #{ev} and team = #{team} and del_yn = 'N'
	</update>
	<update id="scoreUpdate" parameterType="score">
		update demo_score set del_yn = 'Y' where col1 = #{col1} and col2 = #{col2} and del_yn = 'N'
	</update>
	<update id="formUpdate" parameterType="canswer">
		update demo_answer set del_yn = 'Y' where u2 = #{u2} and t1 = #{t1} and team = #{team} and ev = #{ev} and del_yn = 'N'
	</update>
	
	<!-- 문제은행 디비  -->
	<select id="evlist" resultType="evaluation">	
		select * from evaluation
	</select>
	
	
	
	
	
	
	
</mapper>